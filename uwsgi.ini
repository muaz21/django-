[uwsgi]
# Django project directory
chdir = /srv/app/backend

# Django WSGI module
module = takweensoft_backend.wsgi:application

# Virtual environment
home = /srv/app/backend/.venv

# Socket file for communication with Nginx
socket = /run/uwsgi/app.sock

# Socket permissions
chmod-socket = 660

# Process management
master = true
processes = 4
threads = 2

# Logging
logto = /var/log/uwsgi/app.log

# Clean up on exit
vacuum = true
die-on-term = true

# Auto-reload on file changes (development only - remove for production)
# py-autoreload = 1

# Buffer size
buffer-size = 32768

# Max requests per worker
max-requests = 5000

# Restart workers after max requests
max-requests-delta = 500
